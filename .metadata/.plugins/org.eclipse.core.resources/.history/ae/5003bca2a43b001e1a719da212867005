package hiberante.practice;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;
import org.hibernate.service.ServiceRegistry;
import org.hibernate.service.ServiceRegistryBuilder;

public class App 
{
    public static void main( String[] args )
    {
    	
    // Implementation 1
    	Robot robot = new Robot();
    	robot.setId(23);
    	robot.setName("Asssimo");
    	robot.setCost(35000);
    	
    	Microcontroller mc = new Microcontroller();
    	mc.setMCname("Arduino");
    	mc.setArchetecture(32);
    	mc.setPins(8);
    	robot.setMicrocontroller(mc);
    // Implementation 1 done
    	
    // Implementation 2
    	
    	
    	
    	
    	Configuration con = new Configuration().configure().addAnnotatedClass(Robot.class);
    	ServiceRegistry reg =new ServiceRegistryBuilder().applySettings(con.getProperties()).buildServiceRegistry();
    	SessionFactory sf = con.buildSessionFactory(reg);
    	Session session = sf.openSession();
    	Transaction tx = session.beginTransaction();
    	session.save(robot);
//    	Robot r = (Robot)session.get(Robot.class, 21);
    	tx.commit();
        
//    	System.out.print(r);
    }
}
